<!doctype html><html><head><meta charset="utf-8"><title>Reports</title><link href='https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css' rel='stylesheet'>
<script src='https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js'></script></head><body><script>
if(!localStorage.getItem('role') && !location.pathname.endsWith('login.html')) { location.href = '/login.html'; }
function logout(){ localStorage.removeItem('role'); location.href='/login.html'; }
function roleHeader(){ return {'x-role': localStorage.getItem('role')||''}; }
</script>
<div class="container mt-4"><h4>Reports</h4><button id="active" class="btn btn-primary">Active Issues</button> <button id="overdue" class="btn btn-danger">Overdue</button><div id="out" class="mt-3"></div></div>
<script>document.getElementById('active').addEventListener('click', async function(){ const res = await fetch('/api/reports/active', { headers: roleHeader() }); const data = await res.json(); document.getElementById('out').innerHTML = '<pre>'+JSON.stringify(data,null,2)+'</pre>'; }); document.getElementById('overdue').addEventListener('click', async function(){ const res = await fetch('/api/reports/overdue', { headers: roleHeader() }); const data = await res.json(); document.getElementById('out').innerHTML = '<pre>'+JSON.stringify(data,null,2)+'</pre>'; });</script>
</body></html>